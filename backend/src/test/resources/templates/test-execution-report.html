<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CardDemo Test Execution Report</title>
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .report-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .report-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .report-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .meta-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .meta-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .meta-value {
            font-size: 1.1rem;
            font-weight: 600;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2d3748;
        }

        /* Status Colors */
        .status-pass {
            background-color: #48bb78;
            color: white;
        }

        .status-fail {
            background-color: #f56565;
            color: white;
        }

        .status-warning {
            background-color: #ed8936;
            color: white;
        }

        .status-info {
            background-color: #4299e1;
            color: white;
        }

        /* Progress Bars */
        .progress-container {
            background-color: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar {
            height: 20px;
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }

        .progress-success {
            background: linear-gradient(90deg, #48bb78, #38a169);
        }

        .progress-warning {
            background: linear-gradient(90deg, #ed8936, #dd6b20);
        }

        .progress-danger {
            background: linear-gradient(90deg, #f56565, #e53e3e);
        }

        /* Metric Display */
        .metric-large {
            font-size: 3rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .metric-unit {
            font-size: 1rem;
            color: #718096;
            font-weight: normal;
        }

        /* Test Results Table */
        .test-results-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 25px;
            border-bottom: 3px solid #4299e1;
            padding-bottom: 10px;
        }

        .results-tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 25px;
        }

        .tab-button {
            padding: 15px 25px;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            color: #4299e1;
            border-bottom-color: #4299e1;
        }

        .tab-button:hover {
            color: #4299e1;
        }

        .test-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        .test-table th,
        .test-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .test-table th {
            background-color: #f7fafc;
            font-weight: 600;
            color: #2d3748;
            position: sticky;
            top: 0;
        }

        .test-table tr:hover {
            background-color: #f7fafc;
        }

        /* Status Badges */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-pass {
            background-color: #c6f6d5;
            color: #22543d;
        }

        .badge-fail {
            background-color: #fed7d7;
            color: #742a2a;
        }

        .badge-skip {
            background-color: #e2e8f0;
            color: #4a5568;
        }

        /* Coverage Visualization */
        .coverage-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .coverage-chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .coverage-breakdown {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .coverage-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .coverage-item:last-child {
            border-bottom: none;
        }

        .coverage-label {
            font-weight: 600;
            color: #2d3748;
        }

        .coverage-value {
            font-size: 1.1rem;
            font-weight: 700;
        }

        /* Performance Metrics */
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            min-height: 300px;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
        }

        /* SLA Indicators */
        .sla-indicator {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .sla-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .sla-met {
            background-color: #48bb78;
        }

        .sla-warning {
            background-color: #ed8936;
        }

        .sla-exceeded {
            background-color: #f56565;
        }

        /* Functional Parity Matrix */
        .parity-matrix {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .parity-card {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: border-color 0.3s ease;
        }

        .parity-card.validated {
            border-color: #48bb78;
            background-color: #f0fff4;
        }

        .parity-card.pending {
            border-color: #ed8936;
            background-color: #fffaf0;
        }

        .parity-card.failed {
            border-color: #f56565;
            background-color: #fffafa;
        }

        .parity-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .parity-details {
            font-size: 0.9rem;
            color: #718096;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .coverage-grid {
                grid-template-columns: 1fr;
            }

            .performance-grid {
                grid-template-columns: 1fr;
            }

            .report-header h1 {
                font-size: 2rem;
            }

            .metric-large {
                font-size: 2.5rem;
            }

            .results-tabs {
                flex-wrap: wrap;
            }

            .tab-button {
                flex: 1;
                min-width: 120px;
            }
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
            }

            .dashboard-card,
            .test-results-section,
            .chart-container,
            .parity-matrix {
                box-shadow: none;
                border: 1px solid #e2e8f0;
                page-break-inside: avoid;
            }

            .report-header {
                background: #667eea !important;
                -webkit-print-color-adjust: exact;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Report Header -->
        <div class="report-header">
            <h1>CardDemo Test Execution Report</h1>
            <p>Comprehensive testing results for COBOL-to-Java modernization with functional parity validation</p>
            <div class="report-meta">
                <div class="meta-item">
                    <div class="meta-label">Execution Date</div>
                    <div class="meta-value" id="executionDate">{{executionDate}}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Build Number</div>
                    <div class="meta-value" id="buildNumber">{{buildNumber}}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Branch/Tag</div>
                    <div class="meta-value" id="branchTag">{{branchTag}}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Total Duration</div>
                    <div class="meta-value" id="totalDuration">{{totalDuration}}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Environment</div>
                    <div class="meta-value" id="environment">{{environment}}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Test Profile</div>
                    <div class="meta-value" id="testProfile">{{testProfile}}</div>
                </div>
            </div>
        </div>

        <!-- Test Summary Dashboard -->
        <div class="dashboard-grid">
            <!-- Overall Test Status -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon status-{{overallStatus}}">‚úì</div>
                    <div class="card-title">Overall Test Status</div>
                </div>
                <div class="metric-large status-{{overallStatus}}">{{overallStatus}}</div>
                <div class="progress-container">
                    <div class="progress-bar progress-{{overallStatus}}" style="width: {{overallPassRate}}%">
                        {{overallPassRate}}% Pass Rate
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <div><strong>{{totalTests}}</strong> Total Tests</div>
                    <div><strong>{{passedTests}}</strong> Passed | <strong>{{failedTests}}</strong> Failed | <strong>{{skippedTests}}</strong> Skipped</div>
                </div>
            </div>

            <!-- Unit Test Results -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon status-{{unitTestStatus}}">üî¨</div>
                    <div class="card-title">Unit Tests (JUnit 5)</div>
                </div>
                <div class="metric-large">{{unitTestPassRate}}<span class="metric-unit">%</span></div>
                <div class="progress-container">
                    <div class="progress-bar progress-{{unitTestStatus}}" style="width: {{unitTestPassRate}}%">
                        {{unitTestPassed}}/{{unitTestTotal}} Passed
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <div class="sla-indicator">
                        <div class="sla-dot {{unitCoverageSLA}}"></div>
                        <span>Code Coverage: {{unitTestCoverage}}% (Target: 90%)</span>
                    </div>
                </div>
            </div>

            <!-- Integration Test Results -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon status-{{integrationTestStatus}}">üîó</div>
                    <div class="card-title">Integration Tests</div>
                </div>
                <div class="metric-large">{{integrationTestPassRate}}<span class="metric-unit">%</span></div>
                <div class="progress-container">
                    <div class="progress-bar progress-{{integrationTestStatus}}" style="width: {{integrationTestPassRate}}%">
                        {{integrationTestPassed}}/{{integrationTestTotal}} Passed
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <div><strong>Testcontainers:</strong> {{testcontainersStatus}}</div>
                    <div><strong>Database Tests:</strong> {{databaseTestsStatus}}</div>
                    <div><strong>API Tests:</strong> {{apiTestsStatus}}</div>
                </div>
            </div>

            <!-- End-to-End Test Results -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon status-{{e2eTestStatus}}">üåê</div>
                    <div class="card-title">E2E Tests (Cypress)</div>
                </div>
                <div class="metric-large">{{e2eTestPassRate}}<span class="metric-unit">%</span></div>
                <div class="progress-container">
                    <div class="progress-bar progress-{{e2eTestStatus}}" style="width: {{e2eTestPassRate}}%">
                        {{e2eTestPassed}}/{{e2eTestTotal}} Passed
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <div><strong>User Workflows:</strong> {{userWorkflowsStatus}}</div>
                    <div><strong>Cross-Browser:</strong> {{crossBrowserStatus}}</div>
                    <div><strong>React Components:</strong> {{reactComponentsStatus}}</div>
                </div>
            </div>

            <!-- Performance Test Results -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon status-{{performanceTestStatus}}">‚ö°</div>
                    <div class="card-title">Performance Tests</div>
                </div>
                <div class="metric-large">{{avgResponseTime}}<span class="metric-unit">ms</span></div>
                <div class="progress-container">
                    <div class="progress-bar progress-{{performanceTestStatus}}" style="width: {{performanceSLACompliance}}%">
                        {{performanceSLACompliance}}% SLA Compliance
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <div class="sla-indicator">
                        <div class="sla-dot {{responseTimeSLA}}"></div>
                        <span>200ms SLA: {{responseTimeSLAStatus}}</span>
                    </div>
                    <div><strong>Throughput:</strong> {{throughput}} TPS</div>
                </div>
            </div>

            <!-- Functional Parity Status -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon status-{{functionalParityStatus}}">‚öñÔ∏è</div>
                    <div class="card-title">Functional Parity</div>
                </div>
                <div class="metric-large">{{functionalParityScore}}<span class="metric-unit">%</span></div>
                <div class="progress-container">
                    <div class="progress-bar progress-{{functionalParityStatus}}" style="width: {{functionalParityScore}}%">
                        COBOL-Java Equivalence
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <div><strong>Business Logic:</strong> {{businessLogicParity}}</div>
                    <div><strong>Calculations:</strong> {{calculationsParity}}</div>
                    <div><strong>Data Precision:</strong> {{dataPrecisionParity}}</div>
                </div>
            </div>
        </div>

        <!-- Detailed Test Results by Category -->
        <div class="test-results-section">
            <h2 class="section-title">Detailed Test Results by Category</h2>
            
            <div class="results-tabs">
                <button class="tab-button active" onclick="showTab('unit-tests')">Unit Tests</button>
                <button class="tab-button" onclick="showTab('integration-tests')">Integration Tests</button>
                <button class="tab-button" onclick="showTab('e2e-tests')">E2E Tests</button>
                <button class="tab-button" onclick="showTab('performance-tests')">Performance Tests</button>
            </div>

            <!-- Unit Tests Tab -->
            <div id="unit-tests" class="tab-content">
                <table class="test-table">
                    <thead>
                        <tr>
                            <th>Test Class</th>
                            <th>Test Method</th>
                            <th>Status</th>
                            <th>Duration</th>
                            <th>Coverage</th>
                            <th>COBOL Equivalent</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#unitTestResults}}
                        <tr>
                            <td>{{className}}</td>
                            <td>{{methodName}}</td>
                            <td><span class="status-badge badge-{{status}}">{{status}}</span></td>
                            <td>{{duration}}ms</td>
                            <td>{{coverage}}%</td>
                            <td>{{cobolEquivalent}}</td>
                        </tr>
                        {{/unitTestResults}}
                    </tbody>
                </table>
            </div>

            <!-- Integration Tests Tab -->
            <div id="integration-tests" class="tab-content" style="display: none;">
                <table class="test-table">
                    <thead>
                        <tr>
                            <th>Test Suite</th>
                            <th>Component</th>
                            <th>Status</th>
                            <th>Duration</th>
                            <th>Database</th>
                            <th>API Endpoints</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#integrationTestResults}}
                        <tr>
                            <td>{{suiteName}}</td>
                            <td>{{component}}</td>
                            <td><span class="status-badge badge-{{status}}">{{status}}</span></td>
                            <td>{{duration}}ms</td>
                            <td>{{databaseStatus}}</td>
                            <td>{{apiEndpoints}}</td>
                        </tr>
                        {{/integrationTestResults}}
                    </tbody>
                </table>
            </div>

            <!-- E2E Tests Tab -->
            <div id="e2e-tests" class="tab-content" style="display: none;">
                <table class="test-table">
                    <thead>
                        <tr>
                            <th>Test Scenario</th>
                            <th>Browser</th>
                            <th>Status</th>
                            <th>Duration</th>
                            <th>Screenshots</th>
                            <th>User Journey</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#e2eTestResults}}
                        <tr>
                            <td>{{scenario}}</td>
                            <td>{{browser}}</td>
                            <td><span class="status-badge badge-{{status}}">{{status}}</span></td>
                            <td>{{duration}}ms</td>
                            <td><a href="{{screenshotPath}}" target="_blank">View</a></td>
                            <td>{{userJourney}}</td>
                        </tr>
                        {{/e2eTestResults}}
                    </tbody>
                </table>
            </div>

            <!-- Performance Tests Tab -->
            <div id="performance-tests" class="tab-content" style="display: none;">
                <table class="test-table">
                    <thead>
                        <tr>
                            <th>Endpoint</th>
                            <th>Avg Response Time</th>
                            <th>95th Percentile</th>
                            <th>Throughput (TPS)</th>
                            <th>Error Rate</th>
                            <th>SLA Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#performanceTestResults}}
                        <tr>
                            <td>{{endpoint}}</td>
                            <td>{{avgResponseTime}}ms</td>
                            <td>{{p95ResponseTime}}ms</td>
                            <td>{{throughput}}</td>
                            <td>{{errorRate}}%</td>
                            <td>
                                <div class="sla-indicator">
                                    <div class="sla-dot {{slaStatus}}"></div>
                                    <span>{{slaText}}</span>
                                </div>
                            </td>
                        </tr>
                        {{/performanceTestResults}}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Code Coverage Visualization -->
        <div class="coverage-grid">
            <div class="coverage-chart-container">
                <h3 class="chart-title">Code Coverage by Layer</h3>
                <canvas id="coverageChart" width="400" height="200"></canvas>
            </div>
            <div class="coverage-breakdown">
                <h3 class="chart-title">Coverage Breakdown</h3>
                <div class="coverage-item">
                    <span class="coverage-label">Overall Coverage</span>
                    <span class="coverage-value" style="color: #48bb78;">{{overallCoverage}}%</span>
                </div>
                <div class="coverage-item">
                    <span class="coverage-label">Service Layer</span>
                    <span class="coverage-value">{{serviceLayerCoverage}}%</span>
                </div>
                <div class="coverage-item">
                    <span class="coverage-label">Controller Layer</span>
                    <span class="coverage-value">{{controllerLayerCoverage}}%</span>
                </div>
                <div class="coverage-item">
                    <span class="coverage-label">Repository Layer</span>
                    <span class="coverage-value">{{repositoryLayerCoverage}}%</span>
                </div>
                <div class="coverage-item">
                    <span class="coverage-label">Entity Layer</span>
                    <span class="coverage-value">{{entityLayerCoverage}}%</span>
                </div>
                <div class="coverage-item">
                    <span class="coverage-label">Utility Classes</span>
                    <span class="coverage-value">{{utilityLayerCoverage}}%</span>
                </div>
                <div class="coverage-item">
                    <span class="coverage-label">React Components</span>
                    <span class="coverage-value">{{reactCoverage}}%</span>
                </div>
            </div>
        </div>

        <!-- Performance Test Metrics with Graphs -->
        <div class="performance-grid">
            <div class="chart-container">
                <h3 class="chart-title">Response Time Distribution (200ms SLA)</h3>
                <canvas id="responseTimeChart" width="350" height="250"></canvas>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Throughput Over Time</h3>
                <canvas id="throughputChart" width="350" height="250"></canvas>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Error Rate Trends</h3>
                <canvas id="errorRateChart" width="350" height="250"></canvas>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">SLA Compliance by Endpoint</h3>
                <canvas id="slaChart" width="350" height="250"></canvas>
            </div>
        </div>

        <!-- Functional Parity Validation Matrix -->
        <div class="parity-matrix">
            <h2 class="section-title">Functional Parity Validation Matrix</h2>
            <p style="margin-bottom: 25px; color: #718096;">
                Comprehensive validation ensuring identical behavior between COBOL and Java implementations
            </p>
            
            <div class="matrix-grid">
                <!-- Business Logic Parity -->
                <div class="parity-card {{businessLogicParityStatus}}">
                    <div class="parity-title">Business Logic Validation</div>
                    <div class="parity-details">
                        <strong>Status:</strong> {{businessLogicParityPercent}}% Validated<br>
                        <strong>COBOL Programs:</strong> 36 converted<br>
                        <strong>Java Services:</strong> 36 implemented<br>
                        <strong>Validation Method:</strong> Parallel execution comparison
                    </div>
                </div>

                <!-- Calculation Precision -->
                <div class="parity-card {{calculationParityStatus}}">
                    <div class="parity-title">Financial Calculation Precision</div>
                    <div class="parity-details">
                        <strong>Status:</strong> {{calculationParityPercent}}% Validated<br>
                        <strong>COMP-3 Conversion:</strong> {{comp3ConversionStatus}}<br>
                        <strong>BigDecimal Precision:</strong> {{bigDecimalPrecisionStatus}}<br>
                        <strong>Rounding Mode:</strong> HALF_UP (COBOL equivalent)
                    </div>
                </div>

                <!-- Data Type Conversion -->
                <div class="parity-card {{dataTypeParityStatus}}">
                    <div class="parity-title">Data Type Conversion</div>
                    <div class="parity-details">
                        <strong>Status:</strong> {{dataTypeParityPercent}}% Validated<br>
                        <strong>VSAM to PostgreSQL:</strong> {{vsamPostgresStatus}}<br>
                        <strong>JPA Entity Mapping:</strong> {{jpaEntityStatus}}<br>
                        <strong>Field Length Validation:</strong> {{fieldLengthStatus}}
                    </div>
                </div>

                <!-- Transaction Flow -->
                <div class="parity-card {{transactionFlowParityStatus}}">
                    <div class="parity-title">Transaction Flow Equivalence</div>
                    <div class="parity-details">
                        <strong>Status:</strong> {{transactionFlowParityPercent}}% Validated<br>
                        <strong>CICS Transactions:</strong> 24 mapped to REST<br>
                        <strong>Session Management:</strong> {{sessionManagementStatus}}<br>
                        <strong>Error Handling:</strong> {{errorHandlingStatus}}
                    </div>
                </div>

                <!-- Screen Flow Validation -->
                <div class="parity-card {{screenFlowParityStatus}}">
                    <div class="parity-title">Screen Flow & Navigation</div>
                    <div class="parity-details">
                        <strong>Status:</strong> {{screenFlowParityPercent}}% Validated<br>
                        <strong>BMS Maps:</strong> 18 converted to React<br>
                        <strong>PF-Key Mapping:</strong> {{pfKeyMappingStatus}}<br>
                        <strong>Field Validation:</strong> {{fieldValidationStatus}}
                    </div>
                </div>

                <!-- Batch Processing -->
                <div class="parity-card {{batchProcessingParityStatus}}">
                    <div class="parity-title">Batch Processing Equivalence</div>
                    <div class="parity-details">
                        <strong>Status:</strong> {{batchProcessingParityPercent}}% Validated<br>
                        <strong>JCL Jobs:</strong> 12 converted to Spring Batch<br>
                        <strong>Processing Window:</strong> {{processingWindowStatus}}<br>
                        <strong>Restart Capability:</strong> {{restartCapabilityStatus}}
                    </div>
                </div>
            </div>

            <!-- Detailed Parity Report -->
            <div style="margin-top: 30px;">
                <h3 style="color: #2d3748; margin-bottom: 20px;">Detailed Validation Results</h3>
                <table class="test-table">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>COBOL Reference</th>
                            <th>Java Implementation</th>
                            <th>Validation Method</th>
                            <th>Status</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#parityValidationResults}}
                        <tr>
                            <td>{{component}}</td>
                            <td>{{cobolReference}}</td>
                            <td>{{javaImplementation}}</td>
                            <td>{{validationMethod}}</td>
                            <td><span class="status-badge badge-{{status}}">{{status}}</span></td>
                            <td>{{notes}}</td>
                        </tr>
                        {{/parityValidationResults}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.style.display = 'none';
            });

            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).style.display = 'block';

            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Initialize charts when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
        });

        function initializeCharts() {
            // Code Coverage Chart
            const coverageCtx = document.getElementById('coverageChart').getContext('2d');
            new Chart(coverageCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Service Layer', 'Controller Layer', 'Repository Layer', 'Entity Layer', 'Utility Classes', 'React Components'],
                    datasets: [{
                        data: [{{serviceLayerCoverage}}, {{controllerLayerCoverage}}, {{repositoryLayerCoverage}}, {{entityLayerCoverage}}, {{utilityLayerCoverage}}, {{reactCoverage}}],
                        backgroundColor: [
                            '#4299e1',
                            '#48bb78',
                            '#ed8936',
                            '#9f7aea',
                            '#38b2ac',
                            '#f56565'
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });

            // Response Time Chart
            const responseTimeCtx = document.getElementById('responseTimeChart').getContext('2d');
            new Chart(responseTimeCtx, {
                type: 'bar',
                data: {
                    labels: [{{#responseTimeLabels}}'{{.}}'{{^last}},{{/last}}{{/responseTimeLabels}}],
                    datasets: [{
                        label: 'Response Time (ms)',
                        data: [{{#responseTimeData}}{{.}}{{^last}},{{/last}}{{/responseTimeData}}],
                        backgroundColor: function(context) {
                            const value = context.parsed.y;
                            return value > 200 ? '#f56565' : value > 100 ? '#ed8936' : '#48bb78';
                        },
                        borderColor: '#2d3748',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Response Time (ms)'
                            }
                        }
                    },
                    elements: {
                        bar: {
                            borderRadius: 4
                        }
                    }
                }
            });

            // Throughput Chart
            const throughputCtx = document.getElementById('throughputChart').getContext('2d');
            new Chart(throughputCtx, {
                type: 'line',
                data: {
                    labels: [{{#throughputTimeLabels}}'{{.}}'{{^last}},{{/last}}{{/throughputTimeLabels}}],
                    datasets: [{
                        label: 'Throughput (TPS)',
                        data: [{{#throughputData}}{{.}}{{^last}},{{/last}}{{/throughputData}}],
                        borderColor: '#4299e1',
                        backgroundColor: 'rgba(66, 153, 225, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Transactions per Second'
                            }
                        }
                    }
                }
            });

            // Error Rate Chart
            const errorRateCtx = document.getElementById('errorRateChart').getContext('2d');
            new Chart(errorRateCtx, {
                type: 'line',
                data: {
                    labels: [{{#errorRateTimeLabels}}'{{.}}'{{^last}},{{/last}}{{/errorRateTimeLabels}}],
                    datasets: [{
                        label: 'Error Rate (%)',
                        data: [{{#errorRateData}}{{.}}{{^last}},{{/last}}{{/errorRateData}}],
                        borderColor: '#f56565',
                        backgroundColor: 'rgba(245, 101, 101, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            title: {
                                display: true,
                                text: 'Error Rate (%)'
                            }
                        }
                    }
                }
            });

            // SLA Compliance Chart
            const slaCtx = document.getElementById('slaChart').getContext('2d');
            new Chart(slaCtx, {
                type: 'horizontalBar',
                data: {
                    labels: [{{#slaEndpointLabels}}'{{.}}'{{^last}},{{/last}}{{/slaEndpointLabels}}],
                    datasets: [{
                        label: 'SLA Compliance (%)',
                        data: [{{#slaComplianceData}}{{.}}{{^last}},{{/last}}{{/slaComplianceData}}],
                        backgroundColor: function(context) {
                            const value = context.parsed.x;
                            return value >= 95 ? '#48bb78' : value >= 80 ? '#ed8936' : '#f56565';
                        },
                        borderColor: '#2d3748',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'SLA Compliance (%)'
                            }
                        }
                    },
                    elements: {
                        bar: {
                            borderRadius: 4
                        }
                    }
                }
            });
        }

        // Print functionality
        function printReport() {
            window.print();
        }

        // Export functionality (placeholder for future implementation)
        function exportReport(format) {
            alert(`Export to ${format} functionality will be implemented in future versions.`);
        }
    </script>
</body>
</html>